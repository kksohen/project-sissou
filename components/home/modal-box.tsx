"use client";
import { createPortal } from "react-dom"
import { motion } from 'framer-motion';
import { useEffect, useState } from "react";
import Link from "next/link";

//framer-motion
const menuBoxVars = {
  initial: { 
    opacity: 0,
    scale: 0.8,
    y: 30,
  },
  animate: { 
    opacity: 1,
    scale: 1,
    y: 0,
    transition: {
      duration: 0.4,
      delay: 0.4,
      ease: [0.25, 0.8, 0.25, 1], 
    },
  },
  exit: { 
    opacity: 0,
    scale: 0.9,
    y: 30,
    transition: {
      duration: 0.3,
      delay: 0.1,
      ease: [0.42, 0, 0.58, 1], 
    },
  }
};

export default function ModalBox({onClose} : {onClose: ()=> void}){
  const [isXS, setIsXS] = useState(false);
  //반응형 resize
  useEffect(()=>{
    const screenSize=()=>{
      setIsXS(window.innerWidth < 640);
    };

    screenSize();
    window.addEventListener("resize", screenSize);

    return()=>{
      window.removeEventListener("resize", screenSize);
    };

  },[]);

  return createPortal(
    <motion.div onClick={onClose}
    key="modal" variants={menuBoxVars} initial="initial" animate="animate" exit="exit" 
    className="fixed left-1/2 top-[45%] -translate-x-1/2 -translate-y-1/2 w-screen h-[200%] 
    flex items-center justify-center backdrop-blur-lg">
      {isXS ? (
      <div onClick={(e)=> e.stopPropagation()}
      className="px-5 pt-1 pb-4 max-w-xs *:max-w-[200px] *:mx-auto
      rounded-3xl flex flex-col gap-3
      mode-bg/50 mode-secondary-50 border-custom-all mode-svg-color 
      font-weight-custom dark:tracking-normal">
        <div className="flex flex-col items-center">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 80 72" className="h-full w-20">
            <path d="M77.681,67.969l-21.125-18.652h10.047l-.036-3.275-13.78-.06-1.422-1.256,9.101-1.879-.883-3.154-11.323,2.291-.694-.613,5.603-3.046-1.669-2.818-.102.058,7.83-7.83-2.342-2.29-12.89,12.772-.304-.268,7.358-11.187-2.855-1.606-4.683,7.057,6.017-19.34-3.166-.842-5.388,16.253-.277-.071.953-13.373-3.276.006-1.036,13.737-2-7.923-3.162.854,2.139,7.733-2.714-4.091-2.855,1.606,7.431,11.298-.283.25-12.983-12.865-2.342,2.29,7.868,7.869-1.612,2.721,5.603,3.046-.694.613-11.323-2.291-.883,3.154,9.101,1.879-1.422,1.256-13.78.06-.036,3.275h10.047L2.319,67.969h75.362ZM29.945,57.829c0-.897.749-1.624,1.672-1.624s1.672.727,1.672,1.624-.749,1.624-1.672,1.624-1.672-.727-1.672-1.624ZM33.834,62.439c-.792,0-1.434-.623-1.434-1.392s.642-1.392,1.434-1.392,1.434.623,1.434,1.392-.642,1.392-1.434,1.392ZM35.287,54.026c0-.512.428-.928.956-.928s.956.415.956.928-.428.928-.956.928-.956-.415-.956-.928ZM36.941,50.718c0-.384.321-.696.717-.696s.717.312.717.696-.321.696-.717.696-.717-.312-.717-.696ZM37.151,64.593c-.792,0-1.434-.623-1.434-1.392s.642-1.392,1.434-1.392,1.434.623,1.434,1.392-.642,1.392-1.434,1.392ZM37.658,58.494c-.66,0-1.195-.519-1.195-1.16s.535-1.16,1.195-1.16,1.195.519,1.195,1.16-.535,1.16-1.195,1.16ZM41.066,65.115c-.66,0-1.195-.519-1.195-1.16s.535-1.16,1.195-1.16,1.195.519,1.195,1.16-.535,1.16-1.195,1.16ZM41.066,60.1c-.792,0-1.434-.623-1.434-1.392s.642-1.392,1.434-1.392,1.434.623,1.434,1.392-.642,1.392-1.434,1.392ZM42.809,57.334c0-.897.749-1.624,1.672-1.624s1.672.727,1.672,1.624-.749,1.624-1.672,1.624-1.672-.727-1.672-1.624ZM44.981,64.361c-.66,0-1.195-.519-1.195-1.16s.535-1.16,1.195-1.16,1.195.519,1.195,1.16-.535,1.16-1.195,1.16ZM50.518,57.133c.396,0,.717.312.717.696s-.321.696-.717.696-.717-.312-.717-.696.321-.696.717-.696ZM48.296,60.119c.528,0,.956.415.956.928s-.428.928-.956.928-.956-.415-.956-.928.428-.928.956-.928ZM44.482,48.394c1.32,0,2.389,1.038,2.389,2.319,0,.576-.224,1.096-.582,1.502.859.182,1.502.922,1.502,1.811,0,1.025-.856,1.856-1.911,1.856s-1.911-.831-1.911-1.856c0-.374.116-.721.312-1.013-1.224-.101-2.188-1.086-2.188-2.3,0-1.281,1.07-2.319,2.389-2.319ZM33.834,45.151c.374,0,.721.108,1.015.289-.051-.189-.088-.384-.088-.589,0-1.281,1.07-2.319,2.389-2.319.49,0,.945.144,1.325.39.457-.947,1.441-1.608,2.59-1.608,1.583,0,2.867,1.246,2.867,2.783s-1.284,2.783-2.867,2.783c-.747,0-1.421-.284-1.931-.738-.429.62-1.157,1.028-1.984,1.028-.543,0-1.037-.182-1.439-.478.018.103.033.207.033.315,0,1.025-.856,1.856-1.911,1.856s-1.911-.831-1.911-1.856.856-1.856,1.911-1.856ZM31.617,48.369c1.056,0,1.911.831,1.911,1.856s-.856,1.856-1.911,1.856-1.911-.831-1.911-1.856.856-1.856,1.911-1.856ZM30.838,52.402c.924,0,1.672.727,1.672,1.624s-.749,1.624-1.672,1.624-1.672-.727-1.672-1.624.749-1.624,1.672-1.624Z"/>
          </svg>
          <p className="italic font-bold">&#12298;PROJECT SISSOU&#12299;</p>
          <p>물리적 개념에서 확장된 심리적 공간으로서의 &quot;집&quot;을 주제로, 시간의 흐름에 따라 거시적 관점에서 미시적 관점으로 인간 존재의 본질적 여정을 탐구한다. 인류의 역사에서 한국의 역사로, 그리고 개인의 시공간으로 이어지는 층위별 접근은 기술과 예술의 융합을 통해 구현된다.</p>
        </div>
        
        <div>
          <p><span className="italic font-bold">&#12302;SISSOU&#12303;</span> 는 일본어 동음이의어인 失踪(실종)과 疾走(질주)를 활용한 언어유희로, 상실과 나아감에 대한 질문을 내포한다. 이러한 맥락에서 인트로는 도피와 질주 사이의 모호함으로 움직임의 방향성을 관객의 판단에 맡긴다. 이를 통해 전진과 후퇴 모두 개인의 선택이자 해석임을 보여준다.</p>
        </div>

        <div className="w-full">
          <p>더 나아가 이 프로젝트는 . . . <Link href="/brand" className="italic font-bold">더 보기</Link></p>
        </div>
      </div>
      ):(
      <div onClick={(e)=> e.stopPropagation()}
    className="2xl:gap-6 xl:px-8 xl:pb-8 xl:pt-3 xl:gap-5 
    lg:px-7 lg:pb-7 md:px-6 md:pb-6 md:gap-4
    sm:px-5 sm:pb-5 sm:pt-2 gap-3
    rounded-4xl flex flex-col 
    mode-bg/50 mode-secondary-50 border-custom-all mode-svg-color 
    text-center font-weight-custom dark:tracking-normal">
      <div className="flex flex-col items-center">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 80 73" className="h-full lg:w-32 md:w-28 sm:w-24">
          <path d="M77.681,67.969l-21.125-18.652h10.047l-.036-3.275-13.78-.06-1.422-1.256,9.101-1.879-.883-3.154-11.323,2.291-.694-.613,5.603-3.046-1.669-2.818-.102.058,7.83-7.83-2.342-2.29-12.89,12.772-.304-.268,7.358-11.187-2.855-1.606-4.683,7.057,6.017-19.34-3.166-.842-5.388,16.253-.277-.071.953-13.373-3.276.006-1.036,13.737-2-7.923-3.162.854,2.139,7.733-2.714-4.091-2.855,1.606,7.431,11.298-.283.25-12.983-12.865-2.342,2.29,7.868,7.869-1.612,2.721,5.603,3.046-.694.613-11.323-2.291-.883,3.154,9.101,1.879-1.422,1.256-13.78.06-.036,3.275h10.047L2.319,67.969h75.362ZM29.945,57.829c0-.897.749-1.624,1.672-1.624s1.672.727,1.672,1.624-.749,1.624-1.672,1.624-1.672-.727-1.672-1.624ZM33.834,62.439c-.792,0-1.434-.623-1.434-1.392s.642-1.392,1.434-1.392,1.434.623,1.434,1.392-.642,1.392-1.434,1.392ZM35.287,54.026c0-.512.428-.928.956-.928s.956.415.956.928-.428.928-.956.928-.956-.415-.956-.928ZM36.941,50.718c0-.384.321-.696.717-.696s.717.312.717.696-.321.696-.717.696-.717-.312-.717-.696ZM37.151,64.593c-.792,0-1.434-.623-1.434-1.392s.642-1.392,1.434-1.392,1.434.623,1.434,1.392-.642,1.392-1.434,1.392ZM37.658,58.494c-.66,0-1.195-.519-1.195-1.16s.535-1.16,1.195-1.16,1.195.519,1.195,1.16-.535,1.16-1.195,1.16ZM41.066,65.115c-.66,0-1.195-.519-1.195-1.16s.535-1.16,1.195-1.16,1.195.519,1.195,1.16-.535,1.16-1.195,1.16ZM41.066,60.1c-.792,0-1.434-.623-1.434-1.392s.642-1.392,1.434-1.392,1.434.623,1.434,1.392-.642,1.392-1.434,1.392ZM42.809,57.334c0-.897.749-1.624,1.672-1.624s1.672.727,1.672,1.624-.749,1.624-1.672,1.624-1.672-.727-1.672-1.624ZM44.981,64.361c-.66,0-1.195-.519-1.195-1.16s.535-1.16,1.195-1.16,1.195.519,1.195,1.16-.535,1.16-1.195,1.16ZM50.518,57.133c.396,0,.717.312.717.696s-.321.696-.717.696-.717-.312-.717-.696.321-.696.717-.696ZM48.296,60.119c.528,0,.956.415.956.928s-.428.928-.956.928-.956-.415-.956-.928.428-.928.956-.928ZM44.482,48.394c1.32,0,2.389,1.038,2.389,2.319,0,.576-.224,1.096-.582,1.502.859.182,1.502.922,1.502,1.811,0,1.025-.856,1.856-1.911,1.856s-1.911-.831-1.911-1.856c0-.374.116-.721.312-1.013-1.224-.101-2.188-1.086-2.188-2.3,0-1.281,1.07-2.319,2.389-2.319ZM33.834,45.151c.374,0,.721.108,1.015.289-.051-.189-.088-.384-.088-.589,0-1.281,1.07-2.319,2.389-2.319.49,0,.945.144,1.325.39.457-.947,1.441-1.608,2.59-1.608,1.583,0,2.867,1.246,2.867,2.783s-1.284,2.783-2.867,2.783c-.747,0-1.421-.284-1.931-.738-.429.62-1.157,1.028-1.984,1.028-.543,0-1.037-.182-1.439-.478.018.103.033.207.033.315,0,1.025-.856,1.856-1.911,1.856s-1.911-.831-1.911-1.856.856-1.856,1.911-1.856ZM31.617,48.369c1.056,0,1.911.831,1.911,1.856s-.856,1.856-1.911,1.856-1.911-.831-1.911-1.856.856-1.856,1.911-1.856ZM30.838,52.402c.924,0,1.672.727,1.672,1.624s-.749,1.624-1.672,1.624-1.672-.727-1.672-1.624.749-1.624,1.672-1.624Z"/>
        </svg>
        <p className="italic font-bold">&#12298;PROJECT SISSOU&#12299;</p>
        <p>물리적 개념에서 확장된</p>
        <p>심리적 공간으로서의 &quot;집&quot;을 주제로,</p>
        <p>시간의 흐름에 따라 거시적 관점에서 미시적 관점으로</p>
        <p>인간 존재의 본질적 여정을 탐구한다. 인류의 역사에서 한국의 역사로,</p>
        <p>그리고 개인의 시공간으로 이어지는 층위별 접근은 기술과 예술의 융합을 통해 구현된다.</p>
      </div>
      
      <div className="flex flex-row justify-center 
      xl:gap-8 lg:gap-7 md:gap-6 sm:gap-5">
        <div className="text-right">
          <p><span className="italic font-bold">&#12302;SISSOU&#12303;</span> 는 일본어 동음이의어인</p>
          <p>失踪(실종)과 疾走(질주)를 활용한</p>
          <p>언어유희로, 상실과 나아감에 대한</p>
          <p>질문을 내포한다. 이러한 맥락에서</p>
        </div>

        <div className="text-left">
          <p>인트로는 도피와 질주 사이의 모호함</p>
          <p>으로 움직임의 방향성을 관객의 판단에</p>
          <p>맡긴다. 이를 통해 전진과 후퇴 모두</p>
          <p>개인의 선택이자 해석임을 보여준다.</p>
          <p></p>
        </div>
      </div>

      <div>
        <p>더 나아가 이 프로젝트는 해체와 조립, 잔상, 패턴 등의 시각 언어를 활용한</p>
        <p>제너레이티브 아트 전시에서 출발해 창작자와 사용자, 사용자와 사용자 간</p>
        <p>상호작용이 가능한 인터랙티브 앱으로의 확장을 목표로 한다. 이로써 각자</p>
        <p>집을 재정립하고 공유하며 새로운 소통의 장을 만들어 나가기를 기대한다.</p>
      </div>
      </div>
      )}
    </motion.div>
  , document.body
  );
}
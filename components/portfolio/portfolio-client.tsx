"use client";
import MenuBar from "@/components/menu-bar";
import { useState } from "react";
import { AnimatePresence, motion } from 'framer-motion';
import GraphicWorks from "@/components/portfolio/graphic";
import BrandingWorks from "./branding";
import WebAppWorks from "./web-app";

export default function PortfolioClient(){
  const [activeTab, setActiveTab] = useState("Graphic");
  const [direction, setDirection] = useState(0);

  const tabs = ["Graphic", "Web · App", "Branding", "Motion"];

  const handleTabsChange = (tab: string)=>{
    if (tab === activeTab) return;

    const currentIndex = tabs.indexOf(activeTab);
    const newIndex = tabs.indexOf(tab);

    setDirection(newIndex > currentIndex ? 1 : -1);
    setActiveTab(tab);
  };

  const renderTabs = () =>{
    switch(activeTab){
      case "Graphic": return <GraphicWorks />;
      case "Web · App": return <WebAppWorks />;
      case "Branding": return <BrandingWorks />;
      case "Motion": return <GraphicWorks />;
      default: <GraphicWorks />;
    }
  };

  const slideVar = {
    init: (direction: number)=>({
      x: direction > 0 ? "40%" : "-40%",
      opacity: 0
    }),
    animate: {
      x: 0,
      opacity: 1,
    },
    exit: (direction: number)=>({
      x: direction > 0 ? "-40%" : "40%",
      opacity: 0
    })
  };
  
  return(
    <>
    <div className="fixed top-0 left-0 right-0 z-[1] pt-10
    mode-svg-color-50 backdrop-blur-sm
    shadow-[0_8px_32px_rgba(0,0,0,0.02)]">
      {/* title */}
      <div className="flex flex-col justify-center items-center gap-1.5 text-center">
        <div className="w-24 h-24">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 80 80" fill="currentColor">
            <path d="M41.042,39.61c.035.355-.042,1.042-.271,1.323-.346.426-.806.586-1.28.232-.354-.264-.61-1.063-.526-1.488.037-.187.381-.725.521-.858.455-.431,1.393-.029,1.521.544.016.07.026.173.034.246Z"/><path d="M26.038,27.104c.087-.094.16-.173.23-.249.725.827,1.979.931,2.826.222l.86-.72c-.282-.999-.52-1.837-.586-2.071.284-.045.564-.143.824-.303l1.058-.648c-.009-.066-.017-.128-.025-.193.432.993,1.569,1.481,2.588,1.086.936-.362,1.445-1.341,1.253-2.292,1.08-.407,1.692-1.571,1.373-2.702l-.337-1.194c-1.339-.196-2.435-.357-2.435-.357,0,0-.85.71-1.888,1.579l.337,1.194c.016.055.043.104.062.157-.22.222-.635.641-1.132,1.143-.068-.523-.112-.862-.112-.862,0,0-.915-.625-2.032-1.389l-1.057.649c-1.057.649-1.389,2.031-.741,3.089.028.046.065.082.095.125-.117.098-.324.272-.711.596-.151.127-.271.275-.375.431-.123-.288-.2-.466-.2-.467h-.001c-.912-.842-2.334-.783-3.174.129-.839.911-.783,2.33.127,3.171.911.842,2.332.787,3.174-.124Z"/><path d="M19.858,33.598c1.135.502,2.461-.011,2.963-1.146.057-.129.097-.261.128-.393.917.397,2.007.075,2.539-.804.581-.959.274-2.208-.685-2.789h0s-.996-.123-2.21-.272l-.579.96c-.081.135-.141.276-.188.42-.051-.027-.097-.062-.151-.086l-1.134-.502c-1.006.906-1.828,1.648-1.828,1.648,0,0,.005,1.108.011,2.461l1.135.502Z"/><path d="M18.922,40.41c1.236.11,2.327-.803,2.437-2.038.016-.18.029-.327.041-.458.927-.004,1.762-.642,1.972-1.585l.244-1.094c-.981-.731-1.785-1.331-1.786-1.332s-.003-.003-.004-.003-.981.204-2.179.454l-.239,1.096c-.038.173-.045.344-.039.514-.031-.017-.049-.028-.049-.028,0,0-1.047.362-2.327.805l-.109,1.236c-.109,1.235.804,2.324,2.039,2.434Z"/><path d="M20.162,47.179c.061-.015.115-.042.173-.061,0,.251.045.506.145.753.419,1.039,1.601,1.542,2.641,1.124,1.04-.419,1.544-1.602,1.125-2.642l-.419-1.04c-.863-.033-1.607-.061-1.975-.075.027-.253.02-.514-.044-.776-.026-.105-.067-.201-.106-.298.885-.3,1.474-1.182,1.365-2.148-.126-1.114-1.131-1.916-2.245-1.79h-.001s-.864.511-1.916,1.135l.128,1.114c.013.118.042.23.074.339-.005.001-.011,0-.016.002h-.001s-.875.683-1.941,1.517l.298,1.204c.298,1.203,1.513,1.938,2.717,1.642Z"/><path d="M60.102,46.248c-.349-.151-.714-.196-1.068-.168-.126-.055-.382-.165-.906-.393-1.029-.446-2.224.026-2.67,1.055-.446,1.029.026,2.224,1.055,2.67.092.04.166.072.242.105-.179.251-.471.429-.866.475,0,0-.003.004-.145.208-.861-.56-2.019-.399-2.679.416l-.705.872c.514,1.013.936,1.845.995,1.961-.087.083-.192.181-.33.313l-.344.326c-.017.055-.061.104-.09.156-.004-.006-.007-.013-.011-.019-.651-.913-1.918-1.126-2.832-.475-.845.602-1.081,1.728-.598,2.617-.017,0-.034.007-.051.006,0,0-.008.004-.419.221-.498-.849-1.548-1.236-2.492-.862l-.759.301c-.28.811-1.041,1.054-1.692.54l-.78.138-.888.157c-.409.86-1.19.998-1.737.306l-.836-.023-.428-.012c-.392.204-1.046.064-1.452-.309l-.526-.086-.427-.07c-.419.152-1.025-.012-1.345-.364l-.44-.136-.42-.13c-.443.097-1.024-.142-1.292-.532l-.415-.194-.403-.189c-.458.038-1.005-.277-1.217-.7l-.384-.249-.378-.245c-.464-.024-.968-.407-1.12-.852l-.344-.298-.342-.296c-.458-.087-.907-.534-.997-.995l-.3-.341-.741-.842c-1.028.318-1.89.586-2.083.645-.045-.3-.149-.596-.322-.869l-.665-1.047c-1.339.195-2.438.355-2.44.355s-.005,0-.005,0c0,0-.608.928-1.349,2.06l.67,1.044c.666,1.044,2.052,1.352,3.098.688.048-.03.086-.069.13-.102.088.1.27.307.659.749l.357.406c.316.085.63.32.877.605-.098.086-.193.179-.278.284h0s-.276,1.076-.611,2.388l.972.772c.97.77,2.381.61,3.153-.359.044-.055.074-.116.112-.174.186.12.187.121.187.121.31-.002.658.129.962.325-.154.143-.249.23-.249.231h0c-.485,1.142.047,2.461,1.189,2.946,1.141.485,2.459-.046,2.945-1.187.012-.027.015-.055.026-.083.299.092.318.098.318.098.519-.147,1.285.057,1.703.452,0,0,.012.002.5.083.014.037.393,1.054.857,2.299l1.238.079.598.038c.538-.31,1.429-.309,1.981.001l.608-.048.591-.047c.485-.377,1.36-.495,1.945-.261l.594-.127.578-.124c.43-.436,1.284-.668,1.899-.515l.574-.208.552-.2c.364-.486,1.175-.828,1.801-.759l.538-.28s.008-.004.012-.006l.51-.269c.291-.521,1.05-.961,1.686-.979l.498-.357s.004-.003.006-.004l.477-.343c.218-.569.98-1.079,1.691-1.133l.501-.475.857-.813c-.376-1.22.282-2.127,1.462-2.015l.635-.909.623-.891c-.479-1.055.042-2.053,1.159-2.218l.422-.976c.492-1.138-.031-2.461-1.17-2.953Z"/><path d="M60.97,41.24c-.024-.004-.048-.001-.072-.005-.151-.898-.89-1.614-1.839-1.688-1.118-.087-2.095.749-2.182,1.867l-.087,1.118c.645.351,1.215.661,1.572.855-.034,1.105.742,2.095,1.863,2.283h.001s1.074-.28,2.383-.623l.203-1.224c.203-1.222-.622-2.378-1.844-2.583Z"/><path d="M60.526,35.567c-1.234.13-2.129,1.236-1.999,2.469l.13,1.234c1.287.421,2.339.765,2.34.765,0,0,.958-.556,2.129-1.236l-.13-1.234c-.13-1.234-1.236-2.128-2.469-1.998Z"/><path d="M37.178,20.916c.044,1.12.987,1.993,2.108,1.95l1.121-.044c.255-.636.482-1.2.634-1.58.213.018.421.069.579.159l.378.041.318.035c.02-.004.045-.003.066-.007-.039.95.595,1.826,1.554,2.056l1.09.262c.495-.643.926-1.202,1.163-1.51.226.062.447.159.588.277l.277.115c.14.058.21.087.248.103-.354.926.008,1.994.898,2.492.979.547,2.216.198,2.763-.781l.547-.979c-.113-.152-.221-.297-.326-.438.192-.174.362-.378.488-.622.57-1.096.147-2.447-.946-3.023-.004-.002-.007-.004-.011-.006l-.348-.181c-.404-.022-.847-.158-.984-.303s-.606-.412-.608-.413h-.002l-.375-.156c-.418.02-1.007-.176-1.308-.435l-.367-.112-.381-.116c-.407.056-1.008-.092-1.335-.328l-.383-.079-.393-.081c-.403.095-.874.091-1.047-.011s-.701-.226-.701-.226c0,0-.202.018-.449.041-.247.022-1.181.057-1.606-.177h-.47c-1.241,0-2.246,1.006-2.246,2.246,0,.118.017.231.035.343-.371.384-.593.911-.57,1.486Z"/><path d="M51.873,25.204c-.793.793-.793,2.078,0,2.871l.244.244c.332.13.68.517.773.861l.216.268.181.225c.254.164.526.526.606.804l.152.231.158.24c.235.187.471.576.525.864l.131.247.138.259c.224.21.427.612.453.895l.103.25.109.264c.194.227.353.656.353.951l.085.269c.338,1.069,1.479,1.662,2.548,1.324.823-.26,1.359-.998,1.409-1.812.076-.021.152-.035.226-.064l1.154-.456c.061-1.352.11-2.459.11-2.459,0,0-.792-.774-1.761-1.72l-1.154.456c-.043.017-.079.043-.12.062-.02-.037-.039-.074-.069-.13l-.169-.317c-.296-.224-.585-.703-.643-1.063l-.194-.295-.199-.303s-.002-.002-.003-.002c.152-.045.244-.072.244-.072,0,0,.474-1.002,1.052-2.226l-.807-.942c-.807-.941-2.224-1.051-3.166-.245-.078.067-.141.143-.208.217-.78-.467-1.803-.371-2.475.301Z"/><path d="M37.574,26.336c-.833-.122-1.515-.222-1.515-.222s-.529.442-1.175.982l.21.743c.21.743.982,1.175,1.725.965.743-.21,1.175-.982.965-1.725l-.21-.743Z"/><path d="M33.897,30.034l.658-.403c-.108-.835-.197-1.519-.197-1.519s-.569-.389-1.265-.864l-.658.404c-.658.404-.864,1.264-.461,1.922.403.658,1.264.865,1.922.461Z"/><path d="M31.312,31.976l.524-.567c-.331-.775-.602-1.409-.603-1.41h0c-.568-.524-1.452-.487-1.975.08-.522.567-.487,1.45.079,1.973.567.524,1.451.49,1.975-.077Z"/><path d="M29.311,35.304c.312-.706-.007-1.531-.713-1.844l-.706-.312c-.626.564-1.138,1.025-1.138,1.025s.003.689.007,1.531l.706.312c.706.312,1.531-.007,1.844-.713Z"/><path d="M27.132,37.471s-.652.225-1.448.501l-.068.769c-.068.768.5,1.446,1.268,1.515.769.068,1.448-.499,1.516-1.268l.068-.769c-.735-.411-1.337-.747-1.338-.747Z"/><path d="M27.656,44.467c.75-.184,1.208-.941,1.024-1.691s-.941-1.208-1.691-1.024h0s-.544.425-1.208.944l.185.749c.185.748.941,1.206,1.69,1.022Z"/><path d="M29.688,48.206c.652-.414.844-1.278.431-1.929l-.414-.652c-.833.122-1.517.221-1.518.221s-.003,0-.003,0-.378.577-.84,1.282l.417.65c.415.65,1.277.841,1.927.428Z"/><path d="M32.96,51.157c.481-.604.382-1.483-.222-1.964-.604-.481-1.483-.382-1.964.222h0s-.172.67-.38,1.486l.605.48c.604.479,1.482.379,1.962-.223Z"/><path d="M34.33,53.303c.71.302,1.53-.029,1.833-.739.303-.71-.028-1.531-.738-1.834l-.71-.303c-.618.572-1.124,1.041-1.124,1.041h0c-.302.711.029,1.532.74,1.833Z"/><path d="M53.236,45.725c.306-.708-.019-1.531-.728-1.838-.708-.307-1.531.019-1.838.728l-.223.516c.259.531.006,1.02-.561,1.087l-.312.446-.356.508c.22.618-.094,1.065-.697.994l-.418.396-.214.203c-.092.29-.478.54-.857.556l-.298.214-.242.174c-.13.278-.505.493-.832.477l-.281.148-.268.141c-.168.263-.568.43-.888.37l-.296.107-.288.104c-.205.241-.624.354-.933.252l-.308.066-.303.064c-.237.214-.669.273-.96.13l-.313.023-.31.022c-.265.181-.702.181-.97,0l-.312-.02-.77-.049c-.393.745-.714,1.355-.714,1.355s.241.646.535,1.435l.77.049.372.024c.335-.193.889-.192,1.233,0l.378-.03.368-.029c.302-.235.846-.308,1.21-.163l.369-.079.36-.077c.268-.272.799-.416,1.181-.32l.357-.129.343-.124c.227-.303.731-.515,1.12-.472l.335-.174s.005-.003.008-.004l.317-.167c.181-.324.653-.598,1.049-.609l.31-.222s.002-.002.004-.003l.297-.214c.136-.354.61-.671,1.052-.705l.312-.296.533-.506c-.234-.759.176-1.323.91-1.254l.395-.565.388-.554c-.298-.656.026-1.277.721-1.38l.262-.607Z"/><path d="M54.195,42.379c.126-.761-.387-1.48-1.147-1.607-.761-.128-1.482.386-1.61,1.147-.128.761.386,1.482,1.147,1.61h0s.668-.174,1.483-.388l.126-.761Z"/><path d="M52.772,37.242c-.768.081-1.324.769-1.244,1.537l.081.768c.801.262,1.456.476,1.456.476s.596-.346,1.324-.769l-.081-.768c-.081-.768-.769-1.324-1.536-1.243Z"/><path d="M50.807,35.727c.284.718,1.096,1.07,1.814.786l.718-.284c.038-.841.068-1.53.068-1.53s-.493-.482-1.096-1.07l-.718.284c-.718.284-1.07,1.096-.786,1.814Z"/><path d="M49.057,30.471c-.586.502-.655,1.384-.153,1.971l.502.586c.808-.238,1.469-.434,1.469-.434s.295-.624.654-1.385l-.502-.586c-.502-.586-1.384-.654-1.97-.152Z"/><path d="M44.571,29.292c.205.016.491.147.635.291l.173.09c.685.356,1.529.089,1.885-.596.355-.682.092-1.523-.589-1.881-.002-.001-.005-.002-.007-.004l-.216-.112c-.251-.014-.527-.099-.612-.189s-.377-.256-.379-.257h-.001l-.233-.097c-.26.012-.626-.109-.814-.27l-.229-.07-.237-.072c-.253.035-.627-.057-.831-.204l-.238-.049-.244-.05c-.251.059-.544.056-.652-.007s-.436-.141-.436-.141-.126.011-.279.025-.735.035-.999-.11h-.292c-.772,0-1.398.626-1.398,1.398s.626,1.398,1.398,1.398h.237c.225-.098.583-.079.795.043l.235.026.198.022c.203-.044.512,0,.687.096l.186.038.193.04c.205-.023.509.051.676.165l.184.056.193.059c.211-.007.506.09.656.215l.172.071.182.075Z"/><path d="M44.836,6.869c.237-.871-.876-2.403-1.425-2.723s-.981-.051-1.043.209c-.108.449.199.945.175,1.342-.025.408-.433.768-.502,1.228l-.136.906c.069.966-.209,1.639-.618,1.497l-.402-.065-.33-.054c-.991-.171-1.92.04-2.065.469l-.332.428c-1.845,2.383,1.247,5.708,3.79,3.621,1.78-1.461.556-5.613.95-7.673l.071-.371c.291-.223.469.084.396.681l.07.678c.07.678,1.162.711,1.402-.173Z"/><path d="M60.743,13.717c.64-.636.442-2.519.126-3.071s-.824-.535-1.008-.341c-.318.334-.3.918-.519,1.25-.225.341-.759.449-1.048.813l-.57.717c-.423.871-1,1.315-1.283.988l-.316-.258-.259-.212c-.772-.644-1.683-.925-2.023-.625l-.501.205c-2.788,1.142-1.773,5.567,1.473,5.031,2.272-.376,3.286-4.585,4.657-6.172l.247-.286c.363-.048.364.307.002.788l-.278.622c-.278.622.651,1.196,1.301.551Z"/><path d="M71.1,27.597c.873-.231,1.642-1.961,1.644-2.597s-.447-.875-.703-.799c-.443.131-.718.645-1.074.823-.365.183-.882.01-1.314.18l-.852.336c-.802.543-1.524.639-1.605.215l-.145-.381-.119-.313c-.348-.944-.996-1.642-1.44-1.553l-.537-.073c-2.986-.404-4.317,3.937-1.238,5.094,2.155.81,5.138-2.329,7.118-3.019l.357-.124c.339.14.162.448-.392.684l-.552.4c-.552.4-.034,1.361.851,1.127Z"/><path d="M73.136,44.796c.871.236,2.402-.878,2.722-1.428s.05-.981-.21-1.043c-.449-.108-.945.2-1.342.177-.408-.024-.769-.432-1.228-.501l-.906-.135c-.966.07-1.639-.208-1.497-.616l.065-.402.053-.33c.17-.991-.042-1.92-.471-2.065l-.429-.331c-2.385-1.842-5.707,1.252-3.618,3.793,1.462,1.779,5.614.55,7.674.942l.371.071c.223.291-.083.469-.681.396l-.678.07c-.678.07-.71,1.162.174,1.402Z"/><path d="M66.304,60.71c.637.64,2.52.44,3.071.123s.534-.824.34-1.009c-.335-.318-.918-.299-1.25-.518-.341-.225-.45-.758-.814-1.047l-.718-.57c-.871-.422-1.316-.999-.989-1.282l.257-.316.211-.259c.643-.773.923-1.684.623-2.024l-.206-.501c-1.145-2.787-5.569-1.767-5.029,1.478.378,2.271,4.588,3.282,6.177,4.651l.286.247c.048.363-.306.365-.788.003l-.622-.278c-.622-.278-1.195.652-.55,1.301Z"/><path d="M52.435,71.082c.232.872,1.963,1.64,2.599,1.641s.874-.447.798-.704c-.131-.442-.646-.718-.824-1.073-.183-.365-.011-.882-.182-1.314l-.337-.852c-.544-.801-.641-1.523-.216-1.605l.381-.145.313-.119c.943-.348,1.641-.997,1.551-1.442l.072-.537c.401-2.987-3.941-4.313-5.095-1.233-.808,2.156,2.334,5.135,3.026,7.115l.125.357c-.14.339-.448.163-.684-.391l-.4-.552c-.4-.552-1.361-.032-1.126.853Z"/><path d="M35.238,73.135c-.235.871.881,2.402,1.431,2.72s.981.049,1.043-.211c.107-.449-.201-.944-.178-1.342.024-.408.431-.769.499-1.229l.134-.906c-.071-.965.206-1.64.615-1.498l.402.065.33.053c.991.169,1.92-.044,2.064-.474l.331-.429c1.84-2.387-1.258-5.706-3.797-3.614-1.777,1.464-.544,5.614-.934,7.675l-.07.371c-.29.223-.469-.083-.397-.68l-.071-.678c-.071-.678-1.163-.708-1.402.176Z"/><path d="M19.317,66.32c-.639.637-.437,2.52-.12,3.071s.825.533,1.009.339c.317-.335.298-.918.516-1.251.224-.341.758-.451,1.047-.815l.569-.718c.421-.872.998-1.317,1.281-.99l.316.257.26.211c.774.642,1.685.922,2.025.621l.501-.206c2.786-1.148,1.761-5.571-1.483-5.028-2.271.38-3.277,4.591-4.645,6.181l-.246.286c-.363.048-.365-.306-.004-.788l.277-.623c.277-.623-.653-1.195-1.302-.548Z"/><path d="M8.931,52.46c-.872.233-1.638,1.965-1.639,2.6s.448.874.705.797c.442-.132.717-.647,1.072-.826.365-.184.882-.012,1.314-.183l.852-.338c.8-.544,1.522-.642,1.605-.218l.145.381.119.312c.349.943.999,1.64,1.443,1.55l.537.072c2.987.398,4.309-3.945,1.228-5.096-2.157-.805-5.133,2.34-7.112,3.033l-.357.125c-.339-.14-.163-.447.39-.684l.551-.401c.551-.401.031-1.361-.854-1.125Z"/><path d="M6.86,35.266c-.872-.234-2.401.883-2.719,1.434s-.048.981.212,1.043c.449.107.944-.202,1.341-.179.408.023.769.431,1.229.498l.907.133c.965-.072,1.64.204,1.499.613l-.064.402-.053.33c-.168.991.046,1.92.476,2.064l.429.33c2.389,1.837,5.704-1.264,3.61-3.801-1.466-1.776-5.615-.538-7.676-.926l-.371-.07c-.224-.29.082-.469.68-.398l.678-.072c.678-.072.707-1.164-.177-1.401Z"/><path d="M13.659,19.338c-.638-.639-2.521-.435-3.072-.117s-.532.826-.337,1.009c.335.317.919.297,1.251.515.342.224.451.757.816,1.046l.719.568c.872.42,1.318.996.992,1.28l-.257.316-.211.26c-.641.774-.92,1.686-.619,2.025l.207.501c1.151,2.785,5.573,1.756,5.026-1.488-.383-2.271-4.595-3.272-6.186-4.638l-.287-.246c-.049-.363.306-.365.788-.005l.623.277c.623.277,1.194-.655.547-1.302Z"/><path d="M27.508,8.938c-.234-.872-1.966-1.636-2.602-1.636s-.873.449-.797.706c.132.442.647.716.827,1.071.184.365.012.882.184,1.314l.339.851c.545.8.644,1.522.219,1.604l-.38.146-.312.12c-.942.35-1.639,1.001-1.548,1.445l-.071.537c-.395,2.987,3.95,4.305,5.097,1.222.803-2.158-2.345-5.13-3.041-7.109l-.125-.356c.139-.339.447-.164.685.389l.401.551c.401.551,1.362.03,1.125-.855Z"/>
          </svg>
        </div>

        <h1 className="font-weight-basic text-3xl leading-7 custom-tracking form-title">Intermission</h1>
        <h1 className="font-weight-basic text-2xl form-h2">소우의 집</h1>
      </div>

      <div className="h-[0.0625rem] w-full ring-color opacity-70 mt-3"/>

      {/* tabs bar */}
      <div className="flex justify-center gap-4 sm:gap-6 py-3 font-weight-basic username-spacing-comm">
      {tabs.map(tab => (
        <button data-cursor-target
        key={tab} onClick={()=>handleTabsChange(tab)}
        className={`${activeTab === tab ? "opacity-100" : "opacity-40"}`}>{tab}
        </button>
      ))}
      </div>
    </div>
    
    <div className="relative overflow-hidden">
      <AnimatePresence initial={false} custom={direction} mode="wait">
        <motion.div key={activeTab} custom={direction} variants={slideVar} initial="init" animate="animate" exit="exit">
          {renderTabs()}
        </motion.div>
      </AnimatePresence>
    </div>
      
    <MenuBar/>
    </>
  )
}
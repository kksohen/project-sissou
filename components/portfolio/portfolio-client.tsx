"use client";
import MenuBar from "@/components/menu-bar";
import { useState } from "react";
import { AnimatePresence, motion } from 'framer-motion';
import GraphicWorks from "@/components/portfolio/graphic";

export default function PortfolioClient(){
  const [activeTab, setActiveTab] = useState("Graphic");
  const [direction, setDirection] = useState(0);

  const tabs = ["Graphic", "Web · App", "Branding", "Motion"];

  const handleTabsChange = (tab: string)=>{
    if (tab === activeTab) return;

    const currentIndex = tabs.indexOf(activeTab);
    const newIndex = tabs.indexOf(tab);

    setDirection(newIndex > currentIndex ? 1 : -1);
    setActiveTab(tab);
  };

  const renderTabs = () =>{
    switch(activeTab){
      case "Graphic": return <GraphicWorks />;
      case "Web · App": return <GraphicWorks />;
      case "Branding": return <GraphicWorks />;
      case "Motion": return <GraphicWorks />;
      default: <GraphicWorks />;
    }
  };

  const slideVar = {
    init: (direction: number)=>({
      x: direction > 0 ? "40%" : "-40%",
      opacity: 0
    }),
    animate: {
      x: 0,
      opacity: 1,
    },
    exit: (direction: number)=>({
      x: direction > 0 ? "-40%" : "40%",
      opacity: 0
    })
  };
  
  return(
    <>
    <div className="fixed top-0 left-0 right-0 z-[1] pt-10
    mode-svg-color-50 backdrop-blur-sm
    shadow-[0_8px_32px_rgba(0,0,0,0.02)]">
      {/* title */}
      <div className="flex flex-col justify-center items-center gap-2 text-center">
        <div className="w-24 h-24">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 80 80" fill="currentColor">
            <path d="M40.03,10.39c.594,0,1.147-.152,1.644-.401.467.3,1,.512,1.589.577.496.054.978.005,1.429-.125.386.258.826.452,1.309.551.487.1.97.096,1.43.01.36.293.778.526,1.249.671.478.146.962.188,1.431.144.332.327.729.6,1.187.788.461.189.937.276,1.406.276.3.356.669.663,1.106.893,1.811.951,4.051.254,5.002-1.558.95-1.812.253-4.051-1.558-5.002-.551-.289-1.141-.409-1.723-.408-.372-.444-.841-.817-1.414-1.052,0,0,0,0,0,0-.577-.237-1.177-.301-1.758-.246-.41-.407-.91-.734-1.5-.917-.003,0-.005-.002-.008-.002-.596-.183-1.198-.191-1.771-.082-.448-.367-.978-.646-1.584-.771h0c-.61-.126-1.21-.078-1.769.084-.482-.325-1.037-.554-1.654-.622,0,0-.001,0-.002,0-.732-.08-1.434.065-2.048.37-.576-.37-1.258-.59-1.994-.59-2.047,0-3.706,1.659-3.706,3.706s1.659,3.706,3.706,3.706Z"/><path d="M31.97,11.5c1.969-.555,3.115-2.602,2.56-4.571,0,0,0,0,0,0-.556-1.969-2.602-3.115-4.571-2.559-1.969.556-3.115,2.602-2.559,4.571.555,1.969,2.602,3.115,4.571,2.56Z"/><path d="M24.522,14.753c1.744-1.07,2.29-3.351,1.221-5.095-1.071-1.744-3.352-2.29-5.096-1.22-1.743,1.07-2.289,3.35-1.22,5.094,1.07,1.744,3.351,2.29,5.095,1.221Z"/><path d="M18.218,19.905c1.388-1.504,1.293-3.849-.211-5.237h0c-1.505-1.388-3.849-1.293-5.237.212-1.387,1.504-1.293,3.849.212,5.236,1.504,1.388,3.849,1.293,5.237-.211Z"/><path d="M8.023,29.933c1.871.827,4.059-.019,4.886-1.891.827-1.871-.019-4.059-1.891-4.886-1.871-.827-4.058.019-4.885,1.89,0,0,0,0,0,0-.827,1.871.019,4.059,1.891,4.886Z"/><path d="M6.48,40.804c2.039.18,3.838-1.326,4.018-3.365.18-2.039-1.326-3.838-3.365-4.018,0,0-.002,0-.003,0-2.039-.179-3.837,1.329-4.016,3.368-.179,2.038,1.327,3.835,3.365,4.015Z"/><path d="M11.236,47.109c-.488-1.987-2.495-3.202-4.481-2.713h0c-1.987.487-3.201,2.494-2.713,4.481,0,0,0,0,0,0,.488,1.987,2.495,3.202,4.481,2.713,1.987-.488,3.202-2.495,2.713-4.481Z"/><path d="M15.054,56.029c-1.105-1.723-3.397-2.224-5.12-1.12-1.723,1.104-2.224,3.396-1.121,5.119,0,0,0,0,0,.001,1.105,1.723,3.397,2.224,5.12,1.12,1.723-1.105,2.224-3.397,1.12-5.12Z"/><path d="M21.562,63.246c-1.602-1.274-3.933-1.009-5.207.593-1.274,1.601-1.009,3.932.592,5.207,0,0,0,0,0,0,1.602,1.274,3.933,1.009,5.207-.593,1.274-1.602,1.009-3.933-.593-5.207Z"/><path d="M28.417,67.318c-1.882-.801-4.058.075-4.859,1.957h0c-.801,1.883.075,4.058,1.957,4.86,1.882.801,4.058-.075,4.859-1.957.801-1.882-.075-4.058-1.957-4.859Z"/><path d="M72.116,49.885c-1.877-.814-4.058.049-4.872,1.926-.543,1.254-.326,2.634.429,3.661-1.268-.102-2.555.437-3.337,1.554-.791,1.131-.848,2.544-.296,3.708-1.225-.361-2.601-.094-3.595.848-.557.527-.914,1.186-1.069,1.882-.725.013-1.453.235-2.088.689-.626.448-1.07,1.055-1.318,1.726-.712-.081-1.455.043-2.137.402-.681.358-1.203.898-1.541,1.529-.695-.178-1.45-.157-2.175.106-.725.262-1.317.728-1.737,1.308-.663-.27-1.41-.351-2.163-.191-.753.16-1.403.539-1.899,1.055-.622-.36-1.354-.544-2.124-.488-.768.056-1.464.343-2.026.788-.566-.44-1.265-.721-2.034-.771-2.042-.131-3.804,1.419-3.935,3.461-.132,2.041,1.416,3.802,3.457,3.935.002,0,.003,0,.005,0,.954.061,1.839-.255,2.533-.806.699.546,1.588.854,2.543.784h0c.953-.07,1.785-.503,2.397-1.143.767.446,1.69.63,2.626.43.936-.199,1.703-.744,2.222-1.463.82.336,1.759.392,2.658.066.897-.325,1.581-.967,1.997-1.748.86.222,1.799.15,2.647-.296.844-.444,1.434-1.173,1.739-2.003.882.102,1.803-.098,2.582-.656.773-.553,1.256-1.352,1.447-2.212.895-.014,1.788-.338,2.49-1.003h0c1.196-1.132,1.454-2.866.784-4.276,1.487.441,3.148-.072,4.085-1.413,0,0,0,0,0,0,.936-1.338.851-3.07-.068-4.315,1.539.126,3.054-.709,3.701-2.204.813-1.877-.05-4.057-1.926-4.871Z"/><path d="M73.55,41.882c-2.017-.342-3.929,1.017-4.271,3.034-.342,2.017,1.017,3.929,3.034,4.271l.007.004s0,0,0,0c2.018.337,3.927-1.025,4.264-3.043.338-2.016-1.02-3.924-3.035-4.266Z"/><path d="M72.801,32.832c-2.035.216-3.51,2.041-3.294,4.077.216,2.035,2.041,3.51,4.077,3.294,2.034-.216,3.509-2.04,3.294-4.075,0,0,0-.001,0-.002-.216-2.035-2.041-3.51-4.076-3.294Z"/><path d="M67.601,29.125c.753,1.902,2.905,2.834,4.808,2.081,1.902-.753,2.834-2.905,2.081-4.808h0c-.753-1.902-2.905-2.834-4.808-2.081-1.902.753-2.834,2.905-2.081,4.808Z"/><path d="M67.781,21.14s.001-.001.002-.002c1.553-1.332,1.732-3.671.4-5.224,0,0,0,0,0,0-1.332-1.554-3.672-1.734-5.225-.402s-1.734,3.672-.402,5.225c1.332,1.554,3.672,1.734,5.225.402Z"/><path d="M34.043,18.609s-.009.002-.013.004c-1.148.326-1.813,1.521-1.487,2.669.326,1.148,1.521,1.813,2.669,1.487s1.813-1.521,1.487-2.669h.006c-.326-1.146-1.516-1.812-2.662-1.491Z"/><path d="M31.417,21.687c-.624-1.014-1.951-1.331-2.967-.71-.002.001-.004.002-.005.003-1.016.626-1.332,1.956-.707,2.972s1.956,1.332,2.972.707c1.016-.626,1.332-1.956.707-2.972Z"/><path d="M23.55,24.728s-.002.003-.004.004c-.808.878-.752,2.245.126,3.053s2.245.752,3.053-.126c.808-.878.752-2.245-.126-3.053-.876-.807-2.24-.752-3.049.122Z"/><path d="M23.639,32.789c.481-1.092-.015-2.367-1.107-2.848-1.089-.479-2.361.013-2.845,1.1,0,.002-.002.005-.003.007-.481,1.092.015,2.367,1.107,2.848s2.367-.015,2.848-1.107Z"/><path d="M22.236,38.464c.102-1.189-.778-2.235-1.967-2.338-1.188-.102-2.234.777-2.338,1.965,0,0,0,.002,0,.003-.102,1.189.778,2.235,1.967,2.338,1.189.102,2.235-.778,2.338-1.967Z"/><path d="M18.467,45.344c.284,1.159,1.454,1.868,2.613,1.584s1.868-1.454,1.584-2.613-1.454-1.868-2.613-1.584c-1.158.284-1.867,1.452-1.584,2.61v.003Z"/><path d="M24.884,49.7c-.644-1.005-1.98-1.297-2.985-.653,0,0,0,0,0,0-1.004.644-1.296,1.981-.651,2.985.644,1.004,1.98,1.296,2.984.652,1.005-.644,1.297-1.98.653-2.985Z"/><path d="M25.889,54.553c-.736.932-.582,2.282.344,3.025.004.003.008.007.012.01.936.74,2.295.58,3.034-.357.74-.936.58-2.295-.357-3.034s-2.295-.58-3.034.357Z"/><path d="M33.064,56.572c-1.099-.465-2.367.048-2.832,1.147-.464,1.096.045,2.36,1.139,2.829.003.001.005.002.008.003,1.099.465,2.367-.048,2.832-1.147s-.048-2.367-1.147-2.832Z"/><path d="M60.538,48.867s.002-.005.003-.007c.472-1.096-.033-2.367-1.129-2.839-1.096-.472-2.367.033-2.839,1.129-.337.781-.169,1.647.348,2.253-.77-.095-1.565.219-2.039.9-.539.773-.494,1.771.028,2.495-.76-.303-1.658-.165-2.289.436-.328.312-.535.702-.623,1.113-.51-.055-1.039.063-1.488.385-.367.263-.625.62-.769,1.015-.436-.063-.895.001-1.314.223-.404.213-.71.538-.906.915-.426-.125-.893-.127-1.343.036-.434.157-.784.441-1.029.792-.405-.181-.865-.245-1.332-.145-.455.098-.842.335-1.134.654-.375-.232-.821-.357-1.295-.322-.468.035-.886.22-1.22.5-.339-.278-.761-.461-1.233-.49-1.191-.074-2.216.831-2.29,2.022-.074,1.189.828,2.213,2.016,2.29h.006c.574.036,1.107-.16,1.516-.501.411.338.945.528,1.517.488.004,0,.008,0,.012,0,.569-.043,1.066-.306,1.424-.696.456.283,1.016.4,1.583.28.002,0,.005-.001.007-.002.553-.119,1.006-.444,1.307-.873.492.22,1.065.261,1.612.065.002,0,.005-.002.007-.003.528-.192.93-.572,1.171-1.033.52.154,1.097.116,1.614-.155.002-.001.005-.003.007-.004.491-.26.834-.685,1.011-1.169.533.078,1.095-.038,1.568-.376.002-.001.003-.002.005-.003.454-.326.737-.798.845-1.305.608.066,1.239-.115,1.718-.567.002-.002.004-.003.005-.005.793-.754.879-1.963.255-2.825.91.365,1.983.077,2.57-.76.002-.002.003-.004.005-.007.574-.824.487-1.904-.136-2.633.927.115,1.856-.373,2.247-1.272Z"/><path d="M62.014,43.699s0-.005.001-.007c.195-1.177-.602-2.289-1.779-2.484-1.177-.195-2.289.601-2.484,1.779-.195,1.177.602,2.289,1.779,2.484,1.174.194,2.285-.598,2.483-1.772Z"/><path d="M62.19,37.69s0-.005,0-.008c-.128-1.186-1.193-2.044-2.38-1.916s-2.044,1.193-1.916,2.38,1.193,2.044,2.38,1.916c1.183-.128,2.041-1.188,1.917-2.372Z"/><path d="M57.984,30.635c-1.109.441-1.649,1.698-1.208,2.806.441,1.109,1.698,1.65,2.806,1.208,1.106-.44,1.647-1.691,1.211-2.799-.001-.003-.002-.005-.003-.008-.441-1.109-1.698-1.65-2.806-1.208Z"/><path d="M56.896,28.605c.903-.776,1.007-2.137.233-3.042-.001-.002-.003-.003-.004-.005-.778-.905-2.142-1.007-3.047-.229-.905.778-1.007,2.142-.229,3.047.778.905,2.142,1.007,3.047.229Z"/><path d="M50.414,20.267l-.006-.003c-.337-.176-.699-.245-1.055-.236-.217-.259-.489-.476-.823-.614l-.007-.003c-.353-.144-.72-.178-1.073-.136-.24-.239-.533-.43-.879-.537-.003,0-.005-.002-.008-.002-.362-.11-.728-.11-1.074-.036-.263-.218-.575-.384-.932-.458-.003,0-.005-.001-.008-.002-.368-.075-.73-.042-1.066.062-.284-.195-.612-.334-.979-.374,0,0,0,0,0,0-.443-.049-.869.04-1.236.232-.342-.226-.75-.36-1.191-.36-1.193,0-2.16.967-2.16,2.16s.967,2.16,2.16,2.16c.362,0,.698-.097.997-.255.278.186.598.317.954.357.302.034.596.002.869-.082.231.159.498.274.79.334.299.061.595.055.875-.004.214.177.465.315.748.401.294.089.592.11.879.076.195.193.429.353.699.463.284.116.579.165.868.158.176.209.393.389.65.523,1.057.553,2.363.144,2.916-.914.552-1.055.146-2.357-.907-2.912Z"/><path d="M37.04,29.319h0c-.569.161-.9.752-.739,1.321.161.569.752.9,1.321.739.569-.161.9-.752.739-1.321-.161-.569-.752-.9-1.321-.739Z"/><path d="M35.385,32.32c.504-.309.662-.968.353-1.472h0c-.309-.504-.968-.662-1.472-.353-.504.309-.662.968-.353,1.471.309.504.968.662,1.472.353Z"/><path d="M33.406,33.807c.401-.434.375-1.111-.059-1.512,0,0-.001-.001-.002-.002-.435-.4-1.112-.373-1.512.062-.4.434-.373,1.11.06,1.511.434.401,1.111.375,1.512-.059Z"/><path d="M31.874,36.355c.239-.541-.005-1.172-.546-1.411-.54-.239-1.172.005-1.411.546,0,0,0,0,0,0-.239.541.005,1.172.546,1.411s1.172-.005,1.411-.546Z"/><path d="M30.205,38.014c-.589-.052-1.108.384-1.16.972-.052.588.383,1.107.971,1.16.589.052,1.108-.382,1.161-.971s-.382-1.108-.971-1.161c0,0,0,0-.001,0Z"/><path d="M30.607,43.371c.574-.141.925-.721.784-1.295s-.721-.925-1.295-.784c0,0-.001,0-.002,0-.574.142-.924.722-.782,1.296.142.573.721.923,1.294.782Z"/><path d="M32.162,46.233c.499-.317.647-.978.33-1.477-.317-.499-.978-.647-1.477-.33h-.004s0,0-.001,0c-.497.319-.642.981-.323,1.479.317.497.978.644,1.476.328Z"/><path d="M34.668,48.493c.368-.462.292-1.135-.17-1.504-.462-.368-1.135-.292-1.504.17,0,0,0,.001-.001.002-.367.463-.29,1.136.173,1.504.462.367,1.134.29,1.502-.171Z"/><path d="M35.716,50.136c.544.231,1.172-.022,1.403-.565.232-.544-.021-1.172-.565-1.404s-1.172.021-1.404.565c0,0,0,0,0,0-.231.544.022,1.172.566,1.403Z"/><path d="M50.191,44.334c.235-.542-.015-1.172-.557-1.407-.542-.235-1.172.015-1.407.557-.171.395-.08.833.189,1.134-.387-.055-.789.093-1.029.434-.272.389-.238.889.033,1.249-.381-.164-.839-.098-1.159.205-.164.155-.249.354-.292.559-.258-.032-.529.022-.757.186-.185.133-.296.32-.366.52-.222-.037-.455-.022-.67.092-.205.108-.343.282-.439.474-.214-.066-.445-.083-.672,0-.221.08-.383.235-.505.415-.203-.095-.43-.143-.666-.093-.232.049-.416.183-.563.348-.188-.12-.404-.199-.644-.181-.238.017-.439.125-.607.269-.169-.144-.373-.251-.612-.266-.59-.038-1.099.41-1.136,1h0c-.038.59.41,1.099,1,1.136.285.018.548-.081.751-.25.207.172.478.269.767.246.281-.022.525-.156.701-.349.227.142.506.202.789.142.275-.059.498-.223.648-.437.245.111.532.133.805.034.263-.095.459-.287.578-.517.257.076.542.06.798-.074.002,0,.004-.002.006-.003.243-.128.407-.34.495-.579.267.042.551-.015.788-.185,0,0,.002-.001.003-.002.227-.164.365-.402.417-.656.303.034.617-.047.855-.273.408-.387.432-1.014.083-1.444.462.217,1.022.097,1.324-.336.297-.424.225-.977-.119-1.338.478.085.968-.143,1.169-.608Z"/><path d="M50.926,41.772c.097-.582-.296-1.133-.878-1.231-.583-.098-1.135.295-1.233.878-.098.583.295,1.135.878,1.233,0,0,.001,0,.002,0,.583.097,1.134-.297,1.231-.88Z"/><path d="M49.836,37.839c-.588.062-1.014.589-.952,1.176.062.588.589,1.014,1.176.952h0c.588-.062,1.014-.589.952-1.177-.062-.588-.589-1.014-1.176-.952Z"/><path d="M48.332,36.679c.217.55.839.819,1.388.602.55-.217.819-.839.602-1.388,0,0,0,0,0,0-.217-.55-.839-.819-1.388-.602s-.819.839-.602,1.388Z"/><path d="M46.992,32.655c-.449.384-.501,1.06-.117,1.509.384.449,1.06.501,1.509.117,0,0,0,0,0,0,.449-.385.501-1.06.116-1.509-.384-.448-1.06-.501-1.508-.117Z"/><path d="M43.843,31.774c.089.108.2.201.332.269.524.273,1.171.068,1.443-.456.271-.522.07-1.166-.451-1.44-.002,0-.003-.002-.005-.003-.166-.086-.341-.109-.516-.105-.108-.133-.237-.25-.407-.321,0,0-.002,0-.003-.001-.179-.074-.362-.08-.541-.057-.12-.121-.261-.224-.436-.278-.181-.055-.361-.045-.534-.007-.132-.112-.283-.205-.466-.242-.187-.038-.366-.01-.536.044-.142-.099-.3-.175-.484-.195,0,0,0,0,0,0-.223-.024-.427.039-.611.137-.172-.117-.368-.202-.592-.202-.591,0-1.07.479-1.07,1.07s.479,1.07,1.07,1.07c.182,0,.345-.057.495-.137.14.095.296.169.476.189.151.016.298-.002.434-.044.113.077.243.135.385.164.148.031.295.027.434-.002.106.089.232.159.373.202.148.045.297.053.442.036.096.094.209.174.34.229.139.058.283.082.425.08Z"/><path d="M39.676,43.617c1.989,0,3.601-1.612,3.601-3.601s-1.612-3.601-3.601-3.601-3.601,1.612-3.601,3.601,1.612,3.601,3.601,3.601Z"/>
          </svg>
        </div>

        <h1 className="font-weight-basic text-3xl leading-7 custom-tracking form-title">Intermission</h1>
        <h1 className="font-weight-basic text-2xl form-h2">소우의 집</h1>
      </div>

      <div className="h-[0.0625rem] w-full ring-color opacity-70 mt-3"/>

      {/* tabs bar */}
      <div className="flex justify-center gap-4 sm:gap-6 py-3 font-weight-basic username-spacing-comm">
      {tabs.map(tab => (
        <button data-cursor-target
        key={tab} onClick={()=>handleTabsChange(tab)}
        className={`${activeTab === tab ? "opacity-100" : "opacity-40"}`}>{tab}
        </button>
      ))}
      </div>
    </div>
    
    <div className="relative overflow-hidden">
      <AnimatePresence initial={false} custom={direction} mode="wait">
        <motion.div key={activeTab} custom={direction} variants={slideVar} initial="init" animate="animate" exit="exit">
          {renderTabs()}
        </motion.div>
      </AnimatePresence>
    </div>
      
    <MenuBar/>
    </>
  )
}